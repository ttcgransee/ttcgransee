<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Welthandel – USA</title>

  <!-- Tailwind & Fonts & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Raleway:wght@300;400;500&display=swap" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    html, body {
      margin:0; padding:0; width:100%; min-height:100%;
      background:#F5F5F5; color:#333;
      font-family:'Montserrat',sans-serif;
    }
    .slide-container { width:100%; min-height:720px; display:flex; flex-direction:column; }

    .slide-header {
      background:#2A3B32; color:#fff;
      padding:1.25rem 2rem;
      display:flex; justify-content:space-between; align-items:center;
    }
    .title { margin:0; font-weight:700; font-size:2.1rem; }
    .divider { width:90px; height:4px; background:#E6B400; border-radius:3px; margin-top:.6rem; }

    .slide-content {
      flex:1 1 auto;
      padding:1.25rem 2rem 1.5rem 2rem;
      display:flex; flex-direction:column; gap:1rem;
    }

    .materials-grid {
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:1rem;
    }
    .material {
      background:#fff;
      border:1px solid #E5E7EB;
      border-radius:12px;
      box-shadow:0 2px 8px rgba(0,0,0,.05);
      overflow:hidden;
      display:flex; flex-direction:column;
    }
    .mat-head {
      display:flex; align-items:center; gap:.6rem;
      padding:.7rem .9rem;
      background:#F9FAFB;
      border-bottom:1px solid #E5E7EB;
    }
    .badge {
      background:#2A3B32; color:#fff;
      font-weight:700; font-size:.9rem;
      padding:.15rem .55rem;
      border-radius:6px;
      min-width:3.2rem; text-align:center;
    }
    .mat-title { font-weight:600; color:#2A3B32; font-size:1.05rem; }
    .mat-body { padding:.9rem; font-family:'Raleway',sans-serif; }
    .tiny { font-size:.85rem; color:#6B7280; }

    .chart-wrapper {
      position:relative;
      width:100%;
      height:300px;
    }

    .task-section {
      position:relative;
      background:#E9F0EC;
      border:2px solid #2A3B32;
      border-radius:12px;
      padding:1rem;
      font-family:'Raleway',sans-serif;
      margin-top:.5rem;
    }
    .task-label {
      position:absolute;
      top:-12px;
      left:1rem;
      background:#2A3B32;
      color:#fff;
      padding:.25rem .75rem;
      border-radius:6px;
      font-weight:600;
      font-size:.9rem;
    }
    .task-section ol { margin-left:1rem; }
    .task-section li { margin:.45rem 0; line-height:1.55; font-size:.9rem; }

    .footer {
      padding:1rem 3rem;
      display:grid;
      grid-template-columns: 1fr auto 1fr; /* Left text, Center buttons, Right text */
      align-items:center;
      color:#666; font-size:0.9rem;
      font-family:'Raleway',sans-serif;
      flex-shrink:0;
      background: #F5F5F5; /* Matches body bg */
      }
    
    .footer-left { justify-self: start; }
    .footer-center { 
        display: flex; 
        gap: 1rem; 
        justify-self: center; 
    }
    .footer-right { justify-self: end; }

    .nav-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background-color: #2A3B32;
        color: white;
        padding: 0.5rem 1.25rem;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        transition: all 0.2s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        min-width: 100px;
    }
    .nav-btn:hover {
        background-color: #3D5245;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px rgba(0,0,0,0.15);
    }
    .nav-btn:active {
        transform: translateY(0);
    }


    @media (max-width:980px){
      .materials-grid{ grid-template-columns:1fr; }
      .chart-wrapper{ height:260px; }
    }
  </style>
</head>
<body>
  <div class="slide-container">
    <!-- Header -->
    <div class="slide-header">
      <div>
        <h1 class="title">Bedeutung von Handelsbilanzen – USA</h1>
        <div class="divider"></div>
      </div>
      <p class="text-sm font-light">Geographie | Theo Schierbaum</p>
    </div>

    <div class="slide-content">




<div class="materials-grid">


        <section class="material">
          <div class="mat-head"><span class="badge">M1</span><div class="mat-title">USA in der Theorie</div></div>
          <img class="mat-img" src="USA_Vision.png" alt="USA">
          <div class="mat-body tiny">Der hohe Importüberschuss treibt die USA in den Bankrott.</div>
        </section>

        
 <section class="material">
          <div class="mat-head"><span class="badge">M3</span><div class="mat-title">USA in der Realität</div></div>
          <img class="mat-img" src="USA_Real.png" alt="USA">
          <div class="mat-body tiny">Die durchschnittlichen Löhne und Vermögen liegen in den USA deutlich über den deutschen Werten.</div>
        </section>




   



      </div><!-- /materials-grid -->




      <div class="materials-grid">

        <!-- M5: Handelsbilanz USA -->
        <section class="material">
          <div class="mat-head">
            <span class="badge">M3</span>
            <div class="mat-title">Handelsbilanz der USA seit 1970</div>
          </div>
          <div class="mat-body">
            <p class="tiny mb-1">
              Entwicklung von <strong>Exporten</strong> und <strong>Importen</strong> der USA seit 1970
              (in Mio. US-$, <em>gesamter Handel mit Waren und Dienstleistungen, BOP-Basis</em>).
              Quelle: U.S. Census Bureau, <em>U.S. Trade in Goods and Services – Balance of Payments Basis</em> (1960–2024).
            </p>
            <p class="tiny mb-1">
              Bewege die Maus über das Diagramm: Die Fläche zwischen den Kurven wird
              von 1970 bis zum Jahr unter dem Mauszeiger eingefärbt
              (grün = Exportüberschuss, rot = Importüberschuss).
            </p>
            <div class="chart-wrapper">
              <canvas id="usTradeBalanceChart"></canvas>
            </div>
            <p id="cumSurplusTextUS" class="tiny mt-1">
              Kumulierter Außenhandelssaldo der USA seit 1970 (bis Jahr …): –
            </p>
          </div>
        </section>

        <!-- M6: Soziale Indikatoren USA (schematischer Index) -->
        <section class="material">
          <div class="mat-head">
            <span class="badge">M4</span>
            <div class="mat-title">
              Kinderarmut, Löhne &amp; Staatsverschuldung (USA, Index 1970 = 100)
            </div>
          </div>
          <div class="mat-body">
            <p class="tiny mb-1">
              <strong>Schematische</strong> Darstellung der Entwicklung von
              <strong>Kinderarmut</strong>, <strong>inflationsbereinigten Realnettolöhnen</strong>
              und der <strong>öffentlichen Verschuldung</strong> in den USA.
              Alle Werte sind als <strong>Index</strong> dargestellt (<strong>1970 = 100</strong>) und
              orientieren sich an typischen Trends, nicht an einer einzelnen amtlichen Tabelle.
            </p>
            <div class="chart-wrapper">
              <canvas id="usSocialEconomicDevelopmentChart"></canvas>
            </div>
            
          </div>
        </section>

      </div><!-- /materials-grid -->

      <!-- Aufgabenbereich -->
      <a href="Seite 7.html"><section class="task-section">
        <div class="task-label">Arbeitsaufträge</div>
        <ol>
          <li>
            1. <strong>Beschreibe</strong> die Entwicklung von Exporten und Importen der USA seit 1970.
            In welchen Jahrzehnten nimmt das Handelsdefizit besonders stark zu?
          </li>
          <li>
            2. <strong>Vergleiche</strong> die Werte der USA mit denen von Deutschland.
            Welche Unterschiede fallen dir bei Handelsbilanz und kumuliertem Saldo auf?
            Welche Rolle spielen die USA im Welthandel – trotz dauerhaftem Defizit?
          </li>
          <li>
            3. <strong>Interpretiere</strong> die drei Indexkurven für Kinderarmut, Reallöhne und Verschuldung.
            Wie könnte man einen Zusammenhang zwischen Außenhandel, Löhnen und sozialer Lage diskutieren?
          </li>
          <li>
            4. <strong>Formuliere</strong> eine kurze Einschätzung (3–4 Sätze), ob ein
            <strong>Handelsbilanzdefizit</strong> für ein reiches Land wie die USA
            automatisch „schlecht“ ist. Begründe mithilfe der Materialien.
          </li>
        </ol>
      </section></a>

    </div><!-- /slide-content -->

     <!-- Footer with Navigation -->
<div class="footer">
<div class="footer-left">
<p>Erdkunde – Welthandel</p>
</div>
<div class="footer-center">
<a class="nav-btn" href="Seite 5.html">← Zurück</a>
<a class="nav-btn" href="Seite 7.html">Nächste →</a>
</div>
<div class="footer-right">
<p>Seite 9</p>
</div>
</div>

  </div>

  <script>
    // ----------------------------------------------------
    // M5: Handelsbilanz USA – reale Daten (BOP-Basis)
    // Quelle: U.S. Census Bureau, "U.S. Trade in Goods and Services
    // - Balance of Payments Basis, 1960 through 2024", Exporte/Importe gesamt.
    // Werte in Mio. US-Dollar.
    // ----------------------------------------------------
    const yearsUS = [
      1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,
      1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,
      1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,
      2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,
      2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,
      2020,2021,2022,2023,2024
    ];

    const exportsUS = [
      56640,59677,67223,91242,120897,132585,142716,152302,178428,224132,
      271835,294399,275235,266106,291094,289071,310034,348869,431150,487003,
      535234,578343,616882,642863,703254,794387,851602,934453,933174,976526,
      1082963,1015366,986096,1028186,1168120,1291503,1463992,1660813,1849585,1592791,
      1872318,2143551,2247453,2313121,2392615,2280778,2240823,2394476,2544583,2554094,
      2172846,2584068,3058445,3092536,3232524
    ];

    const importsUS = [
      54385,60980,72664,89342,125189,120181,148798,179547,208191,248696,
      291242,310570,299392,323874,400166,410951,448572,500553,545714,580145,
      616098,609479,656094,713174,801747,890771,955667,1042726,1099314,1232334,
      1452648,1375739,1406762,1524428,1778957,2008046,2227524,2371812,2561937,1987563,
      2375408,2698074,2773359,2759982,2876566,2771554,2720281,2911415,3122081,3113364,
      2818888,3421342,3982174,3866741,4136057
    ];

    const annualBalanceUS = exportsUS.map((e, i) => e - importsUS[i]);

    // Plugin: färbt die Fläche zwischen Export- und Importkurve bis zum Hover-Jahr
    let hoveredIndexUS = null;

    const tradeBalanceShadingUS = {
      id: 'tradeBalanceShadingUS',
      afterDatasetsDraw(chart, args, pluginOptions) {
        if (chart.canvas.id !== 'usTradeBalanceChart') return;
        if (hoveredIndexUS === null) return;

        const { ctx } = chart;
        const metaExp = chart.getDatasetMeta(0); // Exporte
        const metaImp = chart.getDatasetMeta(1); // Importe

        ctx.save();
        const maxIndex = Math.min(hoveredIndexUS, metaExp.data.length - 1);

        for (let i = 0; i < maxIndex; i++) {
          const diff = annualBalanceUS[i];
          const color = diff >= 0
            ? 'rgba(16, 185, 129, 0.25)'   // grün = Überschuss
            : 'rgba(239, 68, 68, 0.25)';   // rot = Defizit

          const pExp = metaExp.data[i];
          const pExpNext = metaExp.data[i + 1];
          const pImp = metaImp.data[i];
          const pImpNext = metaImp.data[i + 1];
          if (!pExp || !pExpNext || !pImp || !pImpNext) continue;

          ctx.beginPath();
          ctx.moveTo(pExp.x, pExp.y);
          ctx.lineTo(pExpNext.x, pExpNext.y);
          ctx.lineTo(pImpNext.x, pImpNext.y);
          ctx.lineTo(pImp.x, pImp.y);
          ctx.closePath();
          ctx.fillStyle = color;
          ctx.fill();
        }

        ctx.restore();
      }
    };

    Chart.register(tradeBalanceShadingUS);

    const ctxUsTrade = document.getElementById('usTradeBalanceChart').getContext('2d');

    const usTradeChart = new Chart(ctxUsTrade, {
      type: 'line',
      data: {
        labels: yearsUS,
        datasets: [
          {
            label: 'Exporte (Mio. US-$)',
            data: exportsUS,
            borderColor: 'rgba(16, 185, 129, 0.9)',
            borderWidth: 2,
            pointRadius: 2,
            fill: false,
            tension: 0.1
          },
          {
            label: 'Importe (Mio. US-$)',
            data: importsUS,
            borderColor: 'rgba(234, 179, 8, 0.9)',
            borderWidth: 2,
            pointRadius: 2,
            fill: false,
            tension: 0.1
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
          mode: 'nearest',
          intersect: false
        },
        plugins: {
          legend: {
            position: 'top',
            labels: {
              usePointStyle: true,
              font: { family: 'Montserrat', size: 11 }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const val = context.parsed.y;
                return context.dataset.label + ': ' +
                  val.toLocaleString('de-DE') + ' Mio. US-$';
              }
            }
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: 'Jahr',
              font: { family: 'Montserrat', weight: '600' }
            },
            grid: { display: false }
          },
          y: {
            title: {
              display: true,
              text: 'Wert (Mio. US-$)',
              font: { family: 'Montserrat', weight: '600' }
            },
            beginAtZero: false,
            grid: { color: 'rgba(209,213,219,0.5)' }
          }
        }
      }
    });

    const cumTextUS = document.getElementById('cumSurplusTextUS');
    const tradeCanvasUS = document.getElementById('usTradeBalanceChart');

    function computeCumulativeBalanceUS(idx) {
      let sum = 0;
      for (let i = 0; i <= idx; i++) {
        sum += annualBalanceUS[i];  // Summe aller Jahresüberschüsse/-defizite
      }
      return sum;
    }

    function updateCumulativeTextUS(idx) {
      if (idx == null) {
        cumTextUS.textContent =
          'Kumulierter Außenhandelssaldo der USA seit 1970 (bis Jahr …): –';
        return;
      }
      const year = yearsUS[idx];
      const cum = computeCumulativeBalanceUS(idx);
      const label = cum >= 0 ? 'Außenhandelsüberschuss' : 'Außenhandelsdefizit';
      cumTextUS.textContent =
        `Kumulierter ${label} der USA seit 1970 (bis Jahr ${year}): ` +
        `${cum.toLocaleString('de-DE')} Mio. US-$`;
    }

    tradeCanvasUS.addEventListener('mousemove', function(evt) {
      const points = usTradeChart.getElementsAtEventForMode(
        evt,
        'nearest',
        { intersect: false },
        true
      );
      if (points.length) {
        hoveredIndexUS = points[0].index;
        updateCumulativeTextUS(hoveredIndexUS);
        usTradeChart.update();
      } else {
        hoveredIndexUS = null;
        updateCumulativeTextUS(null);
        usTradeChart.update();
      }
    });

    tradeCanvasUS.addEventListener('mouseleave', function() {
      hoveredIndexUS = null;
      updateCumulativeTextUS(null);
      usTradeChart.update();
    });

    // ----------------------------------------------------
    // M6: Soziale Indikatoren USA – schematischer Index
    // (1970 = 100, qualitativ an typischen Trends orientiert)
    // ----------------------------------------------------
    const yearsUSM6 = [1970, 1980, 1990, 2000, 2010, 2020, 2024];

    // Kinderarmut: eher höher als 1970, mit Spitze um 2010–2012
    const childPovertyUSIndex = [100, 115, 125, 130, 140, 135, 130];

    // Reallöhne: lange Stagnation, leichte Zunahme
    const realWagesUSIndex = [100, 102, 105, 110, 112, 118, 120];

    // Öffentliche Verschuldung (gesamt): starker Anstieg
    const publicDebtUSIndex = [100, 130, 160, 190, 230, 300, 340];

    const ctxUsSocio = document.getElementById('usSocialEconomicDevelopmentChart').getContext('2d');

    new Chart(ctxUsSocio, {
      type: 'line',
      data: {
        labels: yearsUSM6,
        datasets: [
          {
            label: 'Kinderarmut (Index, 1970 = 100)',
            data: childPovertyUSIndex,
            borderColor: 'rgba(234, 179, 8, 0.9)',
            backgroundColor: 'rgba(234, 179, 8, 0.25)',
            borderWidth: 2,
            pointRadius: 3,
            fill: true
          },
          {
            label: 'Realnettolöhne (Index, 1970 = 100)',
            data: realWagesUSIndex,
            borderColor: 'rgba(16, 185, 129, 0.9)',
            backgroundColor: 'rgba(16, 185, 129, 0.25)',
            borderWidth: 2,
            pointRadius: 3,
            fill: true
          },
          {
            label: 'Öffentliche Verschuldung (Index, 1970 = 100)',
            data: publicDebtUSIndex,
            borderColor: 'rgba(75, 85, 99, 0.9)',
            backgroundColor: 'rgba(75, 85, 99, 0.25)',
            borderWidth: 2,
            pointRadius: 3,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
            labels: {
              usePointStyle: true,
              font: { family: 'Montserrat', size: 11 }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const val = context.parsed.y;
                return context.dataset.label + ': ' + val.toFixed(0);
              }
            }
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: 'Jahr',
              font: { family: 'Montserrat', weight: '600' }
            },
            grid: { display: false }
          },
          y: {
            title: {
              display: true,
              text: 'Index (1970 = 100)',
              font: { family: 'Montserrat', weight: '600' }
            },
            beginAtZero: false,
            min: 80,
            grid: { color: 'rgba(209,213,219,0.5)' }
          }
        }
      }
    });
  </script>
</body>
</html>
